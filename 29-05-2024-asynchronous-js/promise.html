<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise</title>
</head>
<body>
    


<script>

//login
//posts
//create post


// const serverStatus = true;

// console.log("start");

// const login = (username, password, successFn, errorFn) => {
//     setTimeout(() => {
//         if(serverStatus)
//         {
//             successFn({username: username, email: "atakan@digiway.com.tr"});
//         }else{
//             errorFn("servera erişilemiyor.");
//         }
        
//     },1000);
// }

// const getPostsByUsername = (username, successFn) => {
//     setTimeout(() => {
//         successFn(["post 1","post 2","post 3"]);
//     },2000);    
// }

// const getPostDetails = (post, successFn) => {
//     setTimeout(() => {
//         successFn("POST Details");
//     },1000)
// }


// login("atakananilgenc","12345",user => {
//     console.log(user.username);
//     console.log(user.email);

//     getPostsByUsername(user.username, (posts) => {
//         console.log(posts);

//         getPostDetails(posts[0],(details) => {
//            console.log(details); 
//         })
//     });
// },(msg) =>{
//     console.log(msg);
// });


// console.log("end");



//callback hell - iç içe çok callback kullanımında verilen isim 

const serverStatus = true;
const promise = new Promise((resolve, reject) => {
    setTimeout(() => {
        if(serverStatus){
            resolve({username: "nerimancelik"});
        }else{
            reject("login error");
        }
    },2000);
});

promise.then(user => {
    console.log(user);
}).catch(err => {
    console.log(err);
})

</script>
</body>
</html>